version: "3.8"services:  open-data-spain-dashboard:    image: registry-fcd7cfc3c9b6428b8090799a0b78293a.open-data-spain.io/ods:0.1.0    deploy:      replicas: 2      restart_policy:        condition: on-failure        max_attempts: 3      update_config:        parallelism: 1      resources:        limits:          cpus: '0.8'          memory: 2048M        reservations:          cpus: '0.2'          memory: 256M      labels:        - traefik.enable=true        - traefik.docker.network=traefik-public        - traefik.http.routers.secretic.rule=Host(`open-data-spain.io`)        - traefik.http.services.secretic.loadbalancer.server.port=8080        - traefik.http.routers.secretic.entrypoints=http    environment:      - DEBUG=False      - STATIC_ROOT=/static      - MONGO_DSN=mongodb://f00ba5d98df54a159f6020e195a170bb:f801da9c9c9d45d99ea3f260802f91c4@mongo:27017/open_data_spain      - MONGO_USER=f00ba5d98df54a159f6020e195a170bb      - MONGO_PASSWORD=f801da9c9c9d45d99ea3f260802f91c4      - DATABASE_DSN=postgres://717d8ce3d770414fb69cf84df5f56a30:ba42dcd2733443d08d2e826d1b91a4c6@postgres:5432/open_data_spain      - REDIS_URL=redis://redis:6379/0      - ENABLE_API=False      - ENABLE_CRAWLERS=False    entrypoint: /entrypoint-dashboard    volumes:      - media_files:/mediafiles    networks:      - traefik-public      - postgres-net      - redis-net  open-data-spain-api:    image: registry-fcd7cfc3c9b6428b8090799a0b78293a.open-data-spain.io/ods:0.1.0    deploy:      replicas: 2      restart_policy:        condition: on-failure        max_attempts: 3      update_config:        parallelism: 1      resources:        limits:          cpus: '0.8'          memory: 2048M        reservations:          cpus: '0.2'          memory: 256M      labels:        - traefik.enable=true        - traefik.docker.network=traefik-public        - traefik.http.routers.secretic.rule=Host(`api.open-data-spain.io`)        - traefik.http.services.secretic.loadbalancer.server.port=8080        - traefik.http.routers.secretic.entrypoints=http    environment:      - DEBUG=False      - STATIC_ROOT=/static      - MONGO_DSN=mongodb://f00ba5d98df54a159f6020e195a170bb:f801da9c9c9d45d99ea3f260802f91c4@mongo:27017/open_data_spain      - MONGO_USER=f00ba5d98df54a159f6020e195a170bb      - MONGO_PASSWORD=f801da9c9c9d45d99ea3f260802f91c4      - DATABASE_DSN=postgres://717d8ce3d770414fb69cf84df5f56a30:ba42dcd2733443d08d2e826d1b91a4c6@postgres:5432/open_data_spain      - REDIS_URL=redis://redis:6379/0      - ENABLE_DJANGO_ADMIN=False      - ENABLE_DASHBOARD=False      - ENABLE_CRAWLERS=False    entrypoint: /entrypoint-dashboard    volumes:      - media_files:/mediafiles    networks:      - traefik-public      - postgres-net      - redis-net  open-data-spain-celery:    image: registry-fcd7cfc3c9b6428b8090799a0b78293a.open-data-spain.io/ods:0.1.0    deploy:      replicas: 2      restart_policy:        condition: on-failure        max_attempts: 3      update_config:        parallelism: 1      resources:        limits:          cpus: '0.8'          memory: 2048M        reservations:          cpus: '0.2'          memory: 256M    environment:      - DEBUG=False      - STATIC_ROOT=/static      - MONGO_DSN=mongodb://f00ba5d98df54a159f6020e195a170bb:f801da9c9c9d45d99ea3f260802f91c4@mongo:27017/open_data_spain      - MONGO_USER=f00ba5d98df54a159f6020e195a170bb      - MONGO_PASSWORD=f801da9c9c9d45d99ea3f260802f91c4      - DATABASE_DSN=postgres://717d8ce3d770414fb69cf84df5f56a30:ba42dcd2733443d08d2e826d1b91a4c6@postgres:5432/open_data_spain      - REDIS_URL=redis://redis:6379/0      - ENABLE_DJANGO_ADMIN=False      - ENABLE_DASHBOARD=False      - ENABLE_CRAWLERS=False    entrypoint: /entrypoint-celery-worker    volumes:      - media_files:/mediafiles    networks:      - postgres-net      - redis-net      - minio-net  postgres:    image: postgres:15-alpine    environment:      POSTGRES_USER: 717d8ce3d770414fb69cf84df5f56a30      POSTGRES_PASSWORD: ba42dcd2733443d08d2e826d1b91a4c6      POSTGRES_DB: open_data_spain    deploy:      resources:        limits:          cpus: '0.7'          memory: 2048M    volumes:      - postgres-data:/var/lib/postgresql/data    networks:      - postgres-net  redis:    image: redis:7-alpine    volumes:      - redis-data:/data    networks:      - redis-net    deploy:      resources:        limits:          cpus: '0.5'          memory: 512M  minio:    image: quay.io/minio/minio:latest    networks:      - minio-net      - traefik-public    volumes:      - minio-data:/minio/data    environment:      # Access key:      - MINIO_ROOT_USER=6c276ed72bfe45cc8bad7e4f780e983f      # Secret key:      - MINIO_ROOT_PASSWORD=54612651fdd74892a93f5867bb0241ee      - MINIO_DEFAULT_BUCKETS=open-data-spain    command: server /minio/data --console-address "0.0.0.0:9090" --address "0.0.0.0:9000"    deploy:      replicas: 1      restart_policy:        condition: on-failure        max_attempts: 3      update_config:        parallelism: 1      resources:        limits:          cpus: '0.3'          memory: 256M        reservations:          cpus: '0.1'          memory: 128M      labels:        - traefik.enable=true        - traefik.docker.network=traefik-public        - traefik.http.routers.cdn.rule=Host(`media.open-data-spain.io`)        - traefik.http.routers.cdn.entrypoints=http        - traefik.http.routers.cdn.service=cdn        - traefik.http.services.cdn.loadbalancer.server.port=9000        - traefik.http.routers.minioadmin.rule=Host(`minio-e4049127b47a4d55ae01535d8772178e.open-data-spain.io`)        - traefik.http.routers.minioadmin.entrypoints=http        - traefik.http.routers.minioadmin.service=minioadmin        - traefik.http.services.minioadmin.loadbalancer.server.port=9090  mongo:    image: mongo:5.0.3    deploy:      resources:        limits:          cpus: '0.5'          memory: 512M    volumes:      - mongo-data:/data/mongo    environment:      MONGO_INITDB_ROOT_USERNAME: f00ba5d98df54a159f6020e195a170bb      MONGO_INITDB_ROOT_PASSWORD: f801da9c9c9d45d99ea3f260802f91c4    networks:      - mongo-net    command: mongod --dbpath /data/mongo --bind_ip_allnetworks:  traefik-public:    external: true  minio-net:  redis-net:  postgres-net:  mongo-net:volumes:  minio-data:    driver: hetzner    driver_opts:      size: '10'      fstype: xfs  postgres-data:    driver: hetzner    driver_opts:      size: '20'      fstype: xfs  mongo-data:    driver: hetzner    driver_opts:      size: '30'      fstype: xfs  redis-data:    driver: hetzner    driver_opts:      size: '10'      fstype: xfs